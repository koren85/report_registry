<!-- plugins/report_registry/app/views/reports/index.html.erb -->
<h2><%= l(:menu_reports) %></h2>

<table class="list reports">
  <thead>
  <tr>
    <th><%= sortable('id', l(:'reports.table.id')) %></th>
    <th><%= sortable('name', l(:'reports.table.name')) %></th>
    <th><%= sortable('period', l(:'reports.table.period')) %></th>
    <th><%= sortable('start_date', l(:'reports.table.start_date')) %></th>
    <th><%= sortable('end_date', l(:'reports.table.end_date')) %></th>
    <th><%= sortable('status', l(:'reports.table.status')) %></th>
    <th><%= sortable('created_at', l(:'reports.table.created_at')) %></th>
    <th><%= sortable('created_by', l(:'reports.table.created_by')) %></th>
    <th><%= sortable('updated_at', l(:'reports.table.updated_at')) %></th>
    <th><%= sortable('updated_by', l(:'reports.table.updated_by')) %></th>
    <th><%= sortable('total_hours', l(:'reports.table.total_hours')) %></th>
    <th><%= sortable('contract_number', l(:'reports.table.contract_number')) %></th>
  </tr>
  </thead>
  <tbody>
  <% @reports.each do |report| %>
    <tr class="<%= cycle('odd', 'even') %>">
      <td><%= report.id %></td>
      <td><%= report.name %></td>
      <td><%= report.period %></td>
      <td><%= report.start_date %></td>
      <td><%= report.end_date %></td>
      <td class="status <%= report.status %>"><%= report.status %></td>
      <td><%= report.created_at %></td>
      <td><%= User.find_by(id: report.created_by)&.name %></td>
      <td><%= report.updated_at %></td>
      <td><%= User.find_by(id: report.updated_by)&.name %></td>
      <td><%= report.total_hours %></td>
      <td><%= report.contract_number %></td>
    </tr>
  <% end %>
  </tbody>
</table>
